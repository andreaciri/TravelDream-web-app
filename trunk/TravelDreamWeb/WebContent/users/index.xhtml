<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>
</h:head>
<h:body>
	<div id="page">
 
	    <div id="header">
		<ui:insert name="header" >
		  <ui:include src="/resources/templates/headerUser.xhtml" />
		</ui:insert>
	    </div>
	<h:form>
	<p:panel id="panel" header="Welcome back #{userBean.username}" style="margin-bottom:10px;">	
	<h:outputText value="#{homeContentBean.userHome}" styleClass="ui-li-count" /><br />
	<h:panelGrid columns="3" style="float:right;">
		<p:inputText id="keyword" value="#{searchPackageBean.keyword}" required="true" label="Keyword" />
			<p:watermark for="keyword" value="Search" />
		<p:commandButton action="foundPackages" icon="ui-icon-search" value="Submit">
			<f:param name="keyword" value="#{searchPackageBean.keyword}" />
		</p:commandButton>
	</h:panelGrid>
	<br /><br /><br />	
	<p:accordionPanel value="#{packageBean.allPackages}" var="package" dynamic="true" cache="true" multiple="true">
		<p:tab title="#{package.title}">
			<h:panelGrid columns="2" cellpadding="10">

				<h:panelGrid columns="2" cellpadding="10">
					<h:outputText value="#{fn:substring(package.description,0,15)}..." />
					<p:button outcome="selectedPackage" value="see more"
						icon="ui-icon-star">
						<f:param name="idPackage" value="#{package.idPackage}" />
					</p:button>

				</h:panelGrid>

			</h:panelGrid>

		</p:tab>
	</p:accordionPanel>
	</p:panel>
	</h:form>
	
 </div>
</h:body>
</html>